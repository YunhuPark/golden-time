# 프로덕션 배포 체크리스트

프로덕션 환경에 배포하기 전에 아래 항목들을 모두 확인하세요.

## 📋 배포 전 체크리스트

### 1. 환경 설정

- [ ] `.env` 파일이 생성되었고 모든 필수 환경 변수가 설정됨
- [ ] 환경 변수 검증 통과: `npm run validate:env:prod`
- [ ] `.env` 파일이 `.gitignore`에 포함되어 Git에 커밋되지 않음
- [ ] `VITE_ENV=production` 설정됨
- [ ] 암호화 키(`VITE_ENCRYPTION_KEY`)가 강력한 랜덤 값으로 설정됨 (기본값 아님)
- [ ] 배포 플랫폼(Vercel/Netlify/등)에 모든 환경 변수가 추가됨

### 2. API 키 발급 및 설정

- [ ] 응급의료포털 API 서비스 키 발급 완료
- [ ] Kakao REST API 키 발급 완료
- [ ] Kakao JavaScript 키 발급 완료
- [ ] Kakao Developers에 배포 도메인 등록 완료
- [ ] Supabase 프로젝트 생성 완료
- [ ] Supabase 데이터베이스 테이블 생성 완료 (favorites, reviews)
- [ ] Supabase Row Level Security (RLS) 정책 활성화
- [ ] Supabase Authentication URL 설정 (배포 도메인)
- [ ] Sentry 프로젝트 생성 완료 (선택사항)
- [ ] Sentry Auth Token 발급 완료 (소스맵 업로드용, 선택사항)

### 3. 코드 품질

- [ ] TypeScript 타입 체크 통과: `npm run type-check`
- [ ] Lint 체크 통과: `npm run lint`
- [ ] 프로덕션 빌드 성공: `npm run build`
- [ ] 로컬 프리뷰 테스트: `npm run preview`
- [ ] 빌드된 번들 사이즈 확인 (Main < 500KB, Vendor < 300KB gzipped)
- [ ] 소스 코드에 하드코딩된 API 키 없음
- [ ] 소스 코드에 민감한 정보 (비밀번호, 토큰 등) 없음

### 4. 보안

- [ ] 모든 API 요청이 HTTPS 사용
- [ ] Supabase RLS 정책이 올바르게 설정됨
- [ ] 암호화 키가 프로덕션용 강력한 값으로 설정됨
- [ ] `console.log`에 민감한 정보 출력하지 않음 (프로덕션 빌드에서 자동 제거됨)
- [ ] CORS 설정 확인 (Supabase, Kakao API)
- [ ] XSS 방지 (DOMPurify 사용 확인)
- [ ] 환경 변수 노출 확인 (`VITE_`로 시작하는 변수만 클라이언트 노출)

### 5. 기능 테스트

프로덕션 배포 후 다음 기능들이 정상 작동하는지 확인:

#### 핵심 기능
- [ ] 페이지 로딩 (초기 화면 표시)
- [ ] 위치 권한 요청 및 현재 위치 표시
- [ ] 병원 목록 로딩 및 표시
- [ ] 병원 검색 (키워드 검색)
- [ ] 필터 적용 (진료과목, 응급실 가용 여부 등)
- [ ] 병원 상세 정보 모달
- [ ] Kakao 지도 표시
- [ ] 경로 안내 기능
- [ ] 119 긴급 호출 버튼

#### 인증 및 사용자 기능
- [ ] 로그인 (Supabase OAuth)
- [ ] 회원가입
- [ ] 로그아웃
- [ ] 세션 유지 (브라우저 새로고침 시)
- [ ] 세션 만료 모달 표시
- [ ] 즐겨찾기 추가
- [ ] 즐겨찾기 제거
- [ ] 즐겨찾기 목록 표시
- [ ] 리뷰 작성
- [ ] 리뷰 수정
- [ ] 리뷰 삭제

#### UI/UX
- [ ] 다크 모드 전환
- [ ] 모바일 반응형 디자인
- [ ] 터치 인터랙션 (모바일)
- [ ] 스크롤 성능
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 표시
- [ ] 네트워크 오프라인 배너

#### 예외 처리
- [ ] 위치 권한 거부 시 처리
- [ ] 네트워크 오류 시 처리
- [ ] API 타임아웃 시 처리
- [ ] 검색 결과 없음 시 처리
- [ ] 세션 만료 시 처리

### 6. 성능

- [ ] Lighthouse 성능 점수: 90+ (Performance)
- [ ] Lighthouse 접근성 점수: 90+ (Accessibility)
- [ ] Lighthouse 모범 사례 점수: 90+ (Best Practices)
- [ ] Lighthouse SEO 점수: 80+ (SEO)
- [ ] 초기 로딩 시간: 3초 이내
- [ ] 병원 목록 렌더링: 부드러운 스크롤
- [ ] 지도 로딩: 3초 이내

### 7. 브라우저 호환성

다음 브라우저에서 테스트:
- [ ] Chrome (최신 버전)
- [ ] Firefox (최신 버전)
- [ ] Safari (최신 버전)
- [ ] Edge (최신 버전)
- [ ] 모바일 Safari (iOS)
- [ ] 모바일 Chrome (Android)

### 8. 모니터링 및 분석

- [ ] Sentry 에러 모니터링 작동 확인 (선택사항)
- [ ] Sentry 테스트 에러 전송 성공
- [ ] 프로덕션 환경에서 에러 발생 시 Sentry에 기록됨
- [ ] 소스맵이 Sentry에 업로드됨 (디버깅용)

### 9. SEO 및 메타데이터

- [ ] `index.html`에 메타 태그 설정 (title, description, keywords)
- [ ] Open Graph 태그 설정 (소셜 미디어 공유용)
- [ ] Favicon 설정
- [ ] `robots.txt` 파일 확인
- [ ] `sitemap.xml` 생성 (선택사항)

### 10. 문서화

- [ ] `README.md` 업데이트 (프로젝트 설명, 실행 방법)
- [ ] `DEPLOYMENT.md` 확인 (배포 가이드)
- [ ] `.env.example` 파일 최신 상태 유지
- [ ] 주요 기능 변경사항 기록

### 11. 백업 및 복구

- [ ] Supabase 데이터베이스 백업 설정
- [ ] 환경 변수 안전한 장소에 백업 (1Password, LastPass 등)
- [ ] Git 리포지토리 백업 (GitHub, GitLab 등)
- [ ] 롤백 계획 수립 (배포 실패 시 이전 버전으로 복구)

### 12. 법적 요구사항

- [ ] 개인정보처리방침 작성 (개인정보 수집 시)
- [ ] 이용약관 작성
- [ ] 쿠키 정책 작성 (쿠키 사용 시)
- [ ] 라이선스 파일 확인 (`LICENSE`)
- [ ] 오픈소스 라이브러리 라이선스 준수

---

## ✅ 배포 승인 서명

배포 담당자: ________________
날짜: ________________
체크리스트 완료 여부: [ ] 모두 완료

---

## 🚨 배포 후 모니터링 (첫 24시간)

배포 직후 다음 항목들을 지속적으로 모니터링하세요:

- [ ] Sentry 에러 로그 확인 (1시간마다)
- [ ] 사용자 피드백 수집 (고객 지원 채널)
- [ ] 서버 로그 확인 (Vercel/Netlify 대시보드)
- [ ] 성능 지표 확인 (페이지 로딩 시간, API 응답 시간)
- [ ] 트래픽 모니터링 (급격한 증가 시 스케일링)
- [ ] 데이터베이스 성능 확인 (Supabase 대시보드)

---

## 📞 긴급 연락처

배포 중 문제 발생 시 연락할 사람:

- 프로젝트 매니저: ________________
- 백엔드 담당자: ________________
- 프론트엔드 담당자: ________________
- DevOps 담당자: ________________

---

## 📝 배포 기록

| 날짜 | 버전 | 배포자 | 주요 변경사항 | 비고 |
|------|------|--------|--------------|------|
| 2026-01-08 | 0.1.0 | - | 초기 배포 | - |

---

**모든 체크리스트 항목이 완료되었다면, 자신 있게 배포하세요!** 🚀
